Import('env')

env.Append(LIBS = ['fftw3', 'UnitTest++'])
src = Split("""
	src/Test.cpp
	src/TestDFTs.cpp
	src/TestPulseTrigger.cpp
	src/TestSampleDelay.cpp
	src/TestSparseSDFTSpectrum.cpp
	src/TestTDOAxcorr.cpp
	""")

tests = env.Program('Tests_sonar', src)

tests_alias = env.Alias('Tests_sonar', [tests], tests[0].path)
# Simply required.  Without it, 'test' is never considered out of date.
env.AlwaysBuild(tests_alias)

Return('tests')
