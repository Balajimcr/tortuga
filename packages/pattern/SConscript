import os

Import('env')
envl = env.Clone()

# Find all cpp files in the source directory
base_dir = envl['base_dir']
src_dir = os.path.join(base_dir, 'src')
sources = [os.path.join('src',f) for f in os.listdir(src_dir) 
           if f.endswith('.cpp')]

envl.SharedLibrary(target = 'ram_pattern', source = sources)