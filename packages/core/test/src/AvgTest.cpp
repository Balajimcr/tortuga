/*
 * Copyright (C) 2007 Robotics at Maryland
 * Copyright (C) 2007 Daniel Hakim  <dhakim@umd.edu>
 * All rights reserved.
 *
 * Author: Daniel Hakim <dhakim@umd.edu>
 * File:  packages/core/test/src/AvgTest.cpp
 */

// STD Includes
#include <iostream>

// Project Includes
#include "core/include/AveragingFilter.h"

using namespace std;
using namespace ram::core;

int main()
{
    double testSequence[100] =
        {9.143821e-001, -6.803286e-001,
         1.473090e+000, 1.548644e+000, 3.496815e-001, 2.335204e-001,
         -8.320930e-001, 1.008768e+000, -3.796668e-001, 5.796049e-001,
         -1.740288e-001, 1.853425e+000, 2.536340e+000, 4.506281e-001,
         9.023142e-001, 1.742258e+000, 9.678328e-001, 3.329333e+000,
         7.560185e-001, 1.534473e+000, 1.324612e+000, 1.701922e+000,
         1.343685e+000, 2.892136e+000, 1.588511e+000, 4.389006e+000,
         2.248577e+000, 1.566387e+000, 9.243242e-001, 3.987727e+000,
         2.795204e+000, 1.510761e+000, 1.245824e+000, 2.187355e+000,
         4.585342e+000, 4.812310e+000, 2.229801e+000, 4.282469e+000,
         4.171765e+000, 2.763677e+000, 4.862453e+000, 6.131241e+000,
         5.537770e+000, 5.416967e+000, 4.001975e+000, 2.562353e+000,
         4.364250e+000, 4.057953e+000, 5.989664e+000, 4.690583e+000,
         5.892233e+000, 6.954540e+000, 6.081559e+000, 3.905901e+000,
         4.750454e+000, 6.711078e+000, 4.807472e+000, 6.948814e+000,
         4.717720e+000, 5.501252e+000, 7.791594e+000, 8.095669e+000,
         7.267463e+000, 6.842399e+000, 4.687149e+000, 5.919783e+000,
         5.625624e+000, 6.904735e+000, 7.576638e+000, 5.849521e+000,
         7.722220e+000, 5.649142e+000, 8.687594e+000, 6.045421e+000,
         7.932591e+000, 8.122061e+000, 8.754254e+000, 7.961242e+000,
         7.509018e+000, 6.829714e+000, 8.590951e+000, 9.509259e+000,
         9.333590e+000, 9.437147e+000, 9.290269e+000, 9.857674e+000,
         7.437980e+000, 7.575464e+000, 7.735376e+000, 1.005465e+001,
         1.074684e+001, 8.115379e+000, 8.681152e+000, 1.018968e+001,
         7.562484e+000, 9.829974e+000, 1.012182e+001, 9.598320e+000,
         8.020625e+000, 1.195668e+001};
    
    double total = 0;
    AveragingFilter<double, 10> q;
    for (int i = 1; i < 100; i++)
    {
        double val = testSequence[i];
        total += val;
        cout << "adding:" << val << endl;
        q.addValue(val);
        cout << "Average (Total: " << total << " #: " << i + 1<< "):"
             << q.getValue() << endl;
    }
    return 0;
}
