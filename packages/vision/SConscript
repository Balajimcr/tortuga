# Copyright (C) 2007 Robotics at Maryland
# Copyright (C) 2007 Joseph Lisee <jlisee@umd.edu>
# All rights reserved.
#
# Author: Joseph Lisee <jlisee@umd.edu>
# File:  packages/vision/SConscript

# Build system imports
import libs
import helpers

# Copy Our Build Environment
Import('env')
envl = env.Clone()

# Sources
sources = ['src/BasicImage.cpp',
           'src/OpenCVCamera.cpp',
           'src/OpenCVImage.cpp',
           'src/VisionCommunication.cpp',
           'src/ProcessList.cpp',
           'src/main.cpp']

# Libraries
libs.add_external(envl, 'OpenCV')

# Build Library (will be called 'libram_vision.so')
helpers.SharedLibrary(envl, 'vision',  source = sources)


# Testing
envt = env.Clone()

# Build simple camera test program and make sure vision library is intalled
helpers.Program(envt, 'test/src/AdvCvTest.cpp',
                int_deps = 'vision')

# Basic camera test
envt.Program('test/src/BasicCvTest.c')
