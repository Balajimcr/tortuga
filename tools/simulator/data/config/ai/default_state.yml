# Pipe Align
ram.ai.new.mainState.Body:
  states:
    start:
      type: Start
    forward1:
      type: Forward
      init:
        distance: 1
    pipe1:
      type: PipeAlign
      init:
        searchDist: 20  
    
    pipeStore:
      type: PipeCheckpoint
      init:
          checkpoint: pipe1
          nextCheckpoint: pipe2
          distanceToNextPipe: 8
      
    move:
       type: Move
       init:
         x: 2
         y: 6

    gotoPipe:
      type: GotoPipe
      init:
          prevCheckpoint: pipe1
          nextCheckpoint: pipe2

    pipe2:
      type: PipeAlign
      init:
        searchDist: 20   
    end:
      type: End

  transitions:
    - [start, next, forward1]
    - [forward1, next, pipe1]
    - [pipe1, complete, pipeStore]
    - [pipeStore, next, move]
    - [move, next, gotoPipe]
    - [gotoPipe, next, pipe2]
    - [pipe2, complete, end]
